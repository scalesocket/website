<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScaleSocket</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="manifest" href="/assets/site.webmanifest">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/base16/dracula.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css"
        integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY=" crossorigin="anonymous">
</head>

<body class="antialiased text-slate-700 dark:text-slate-400 bg-white dark:bg-slate-900">
    <div id="app" class="max-w-6xl flex flex-col min-h-screen font-roboto mx-auto space-y-10">
        <header>
            <nav
                class="flex items-center justify-center sm:justify-between flex-wrap xs:flex-nowrap p-4 md:p-6 border-gray-100 dark:border-gray-600 border-b">
                <div class="flex px-4 items-center shrink-0 text-white md:mr-6 text-teal-500 ">
                    <img src="assets/image.svg" class="fill-current h-8 w-8 mr-2" alt="ScaleSocket">
                    <span
                        class="text-xl ml-2 tracking-tight text-slate-700 dark:text-slate-200"><strong>Scale</strong>Socket</span>
                </div>
                <div class="w-full block sm:grow flex items-center justify-start w-auto">
                    <nav class="w-full block grow flex items-center w-auto">
                        <a href="index.html"
                            class="rounded-lg px-3 py-2 text-slate-700 dark:text-slate-300 font-bold hover:bg-slate-100 dark:hover:bg-slate-200 hover:text-slate-900">Home</a>
                        <a href="about.html"
                            class="rounded-lg px-3 py-2 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-200 hover:text-slate-900">About</a>
                        <a href="docs.html"
                            class="rounded-lg px-3 py-2 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-200 hover:text-slate-900">Docs</a>
                    </nav>
                    <div class="whitespace-nowrap">
                        <a href="https://github.com/scalesocket/scalesocket"
                            class="inline-block rounded-lg px-3 py-2 text-slate-700 dark:text-slate-300 font-medium hover:text-slate-900  dark:hover:text-slate-400"><i
                                class="fa fa-github fa-lg"></i> <span class="hidden sm:inline">Github</span></a>
                    </div>
                </div>
            </nav>
        </header>
        <section>
            <div class="m-8 my-8 md:my-16 text-center flex grow flex-col items-center justify-center">
                <h1
                    class="pb-2 text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-br from-green-400 to-blue-600">
                    Websocket server and autoscaler.</h1>
                <p class="text-xl text-cyan-600">Simple way to build multiplayer backends.</p>
                <p>
                    <a class="mt-6 mx-3 px-3 group inline-flex items-center h-9 rounded-full text-sm font-semibold whitespace-nowrap focus:outline-none focus:ring-2 bg-sky-500 text-white hover:bg-teal-300 focus:ring-cyan-500"
                        href="docs.html#getting-started">Get started
                        <svg class="overflow-visible ml-3 text-white" width="3" height="6" viewBox="0 0 3 6" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M0 0L3 3L0 6"></path>
                        </svg></a>
                </p>
            </div>
        </section>
        <section id="features">
            <div class="m-6 flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4">
                <div
                    class="p-4 lg:p-6 bg-white rounded-xl shadow-lg dark:shadow-cyan-600/10 flex grow items-center space-x-4 w-1/1 md:w-1/3 dark:bg-slate-800">
                    <div class="shrink-0">
                        <i class="fa fa-tachometer fa-lg" style="color:#0891B2"></i>
                    </div>
                    <div>
                        <div class="text-xl font-medium text-cyan-600 dark:text-cyan-400">Fast</div>
                        <p class="text-slate-500 dark:text-slate-400">Written with performance in mind</p>
                    </div>
                </div>
                <div
                    class="p-4 lg:p-6 bg-white rounded-xl shadow-lg dark:shadow-cyan-600/10 flex grow items-center space-x-4 w-1/1 md:w-1/3 dark:bg-slate-800">
                    <div class="shrink-0">
                        <i class="fa fa-battery-full fa-lg" style="color:#0891B2"></i>
                    </div>
                    <div>
                        <div class="text-xl font-medium text-cyan-600 dark:text-cyan-400">Simple</div>
                        <p class="text-slate-500 dark:text-slate-400">Follows the unix philosophy!</p>
                    </div>
                </div>
                <div
                    class="p-4 lg:p-6 bg-white rounded-xl shadow-lg dark:shadow-cyan-600/10 flex grow items-center space-x-4 w-1/1 md:w-1/3 dark:bg-slate-800">
                    <div class="shrink-0">
                        <i class="fa fa-code fa-lg" style="color:#0891B2"></i>
                    </div>
                    <div>
                        <div class="text-xl font-medium text-cyan-600 dark:text-cyan-400">Open source</div>
                        <p class="text-slate-500 dark:text-slate-400">And we're not a startup</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="description">
            <div class="m-6">
                <h1 class="mt-4 text-xl sm:text-2xl text-teal-500 font-bold tracking-tight">
                    Built to do one thing, so you don't have to.</h1>
                <p class="mt-4 md:w-2/3">Scalesocket is a server and autoscaler. It servers your application via
                    websockets and scales the number of instances based on the number of connections.

                    The main use-case of ScaleSocket is to <i>vastly simplify the structure of realtime web apps</i> and
                    games by moving
                    the connection management and scaling outside the application code.</p>
            </div>
            <div class="m-6">
                <h1 class="mt-4 text-xl sm:text-2xl text-cyan-600 font-bold tracking-tight">
                    For a new generation of web apps.</h1>
                <p class="mt-4 md:w-2/3">
                    Running a process per session is usable in multiplayer games and collaborative web apps. For example
                    <a href="https://www.figma.com/blog/rust-in-production-at-figma/" class="text-cyan-600">Figma</a> is
                    using
                    this approach to serve the backend for their collaborative web app. It is reminiscient of <a
                        href="https://en.wikipedia.org/wiki/FastCGI" class="text-cyan-600">FastCGI</a>, but some of the
                    needs of collaborative apps differ from traditional CGI.
                    For example, ScaleSocket allows multiple clients to share a backend process.
                </p>
            </div>
            <div class="m-6">
                <h1 class="mt-4 text-xl sm:text-2xl text-cyan-600 font-bold tracking-tight">How it works.</h1>
                <p class="mt-4 md:w-2/3">
                    Scalesocket listens for websocket connections with a room parameter and spawns a backend processes
                    for each room. The backend is an executable script or a binary. ScaleSocket then forwards messages
                    between clients and the backend process using a single
                    channel. The channel may be standard input/output or a TCP stream.
                </p>
            </div>
            <div class="m-6  text-center flex grow flex-col items-center justify-center"">
                <figure class=" max-w-3xl">
                <img class="max-w-full h-auto rounded-lg" src="assets/diagram.svg"
                    alt="ScaleSocket high level architecture diagram">
                <figcaption class="mt-2 text-sm text-center text-gray-500 dark:text-gray-400">High level architecture
                    diagram. Scalesocket listens for websocket connections and spawns backend processes.
                    Clients in a room share the backend process.</figcaption>
                </figure>
            </div>
            <div class="m-6">
                <h1 class="mt-4 text-xl sm:text-2xl text-sky-600 font-bold tracking-tight">
                    Example use cases.</h1>
                <p class="mt-4 md:w-2/3">ScaleSocket is useful in real-time browser applications. For example:</p>
                <ul class="mt-4 list-disc list-inside">
                    <li>Collaborative web apps</li>
                    <li>Browser based multiplayer games</li>
                    <li>Chats and livefeeds</li>
                    <li>CLI first web-apps<sup>*</sup></li>
                    <li>Hosting serverless solutions</li>
                </ul>
            </div>
        </section>
        <section id="demo">
            <div class="m-8 my-8 md:my-16 text-center flex grow flex-col items-center justify-center">
                <h1
                    class="pb-2 text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-br from-green-400 to-blue-600">
                    What does it look like? Here's a live Demo.</h1>
                <p class="text-xl text-cyan-600">Online multiplayer game server. In 40 lines of vanilla Python.</p>
            </div>
            <div class="relative pt-10 xl:pt-0 mt-10 xl:mt-2">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 lg:grid lg:grid-cols-12 lg:gap-8">
                    <!--demo-->
                    <div class="lg:col-span-5 xl:col-span-6 flex flex-col">
                        <div
                            class="h-full relative z-10 ring-1 ring-slate-900/5 rounded-lg shadow-lg dark:shadow-cyan-600/10  px-6 py-5 my-auto xl:mt-18 dark:bg-slate-700">
                            <iframe src="https://demo.scalesocket.org/" allowfullscreen=""
                                class="w-full h-full flex bg-slate-100"
                                style="border: 1px solid #e4e4e4;border-radius: 4px;" frameborder="0"></iframe>
                        </div>
                    </div>
                    <!--windows-->
                    <div class="mt-4 -mx-4 sm:mx-0 lg:mt-0 lg:col-span-7 xl:col-span-6">
                        <div
                            class="relative overflow-hidden flex bg-slate-800 h-[21.625rem] max-h-[60vh] sm:max-h-[none] sm:rounded-xl lg:h-[24.6875rem] xl:h-[21.625rem] dark:bg-slate-900/70 dark:backdrop-blur dark:ring-1 dark:ring-inset dark:ring-white/10">
                            <div class="relative w-full flex flex-col">
                                <div class="flex-none border-b border-slate-500/30 dark:bg-slate-700">
                                    <div class="flex items-center h-8 space-x-1.5 px-3">
                                        <div class="w-2.5 h-2.5 bg-slate-600 rounded-full"></div>
                                        <div class="w-2.5 h-2.5 bg-slate-600 rounded-full"></div>
                                        <div class="w-2.5 h-2.5 bg-slate-600 rounded-full"></div>
                                        <div class="flex-none text-xs text-slate-400 px-1 py-1 flex items-center">
                                            game.py
                                        </div>
                                    </div>
                                </div>
                                <div class="relative min-h-0 flex-auto flex flex-col">
                                    <div class="w-full flex-auto flex min-h-0" style="opacity: 1;">
                                        <div class="w-full flex-auto flex min-h-0 overflow-auto">
                                            <div class="w-full relative flex-auto">
                                                <pre class="flex min-h-full text-xs md:text-xs-2 language-python"><code class="flex-auto relative block text-slate-400 dark:text-slate-100 overflow-auto p-4 dark:bg-slate-800">#!/usr/bin/python3
from contextlib import suppress
from json import JSONDecodeError, loads, dumps
from sys import stdin, stdout


def main():
    stdin_events = map(parse_json, stdin)
    players = {}

    for event in stdin_events:
        op, id, data = parse_event(event)

        if op == "join":
            players[id] = (50, 50)
            send_event("join", id)
        elif op == "leave":
            del players[id]
            send_event("leave", id)
        elif op == "input":
            players[id] = (data.get("x", 0), data.get("y", 0))
            send_event("state", {"players": players})


def send_event(op: str, data: dict):
    # sending data is as easy as printing
    print(dumps({"op": op, "data": data}))


def parse_json(data):
    with suppress(JSONDecodeError):
        return loads(data)
    return None


def parse_event(event: dict):
    with suppress(KeyError):
        return event["op"], int(event["id"]), event.get("data")
    return None, None, None


if __name__ == "__main__":
    # ensure python output is not buffered
    stdout.reconfigure(line_buffering=True)
    main()
</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div
                            class="mt-4 relative overflow-hidden shadow-lg dark:shadow-cyan-600/10 flex bg-slate-800 h-[6rem] max-h-[60vh] sm:max-h-[none] sm:rounded-xl lg:h-[6rem] xl:h-[6rem] dark:bg-slate-900/70 dark:backdrop-blur dark:ring-1 dark:ring-inset dark:ring-white/10">
                            <div class="relative w-full flex flex-col">
                                <div class="flex-none border-b border-slate-500/30 dark:bg-slate-700">
                                    <div class="flex items-center h-8 space-x-1.5 px-3">
                                        <div class="w-2.5 h-2.5 bg-slate-600 rounded-full"></div>
                                        <div class="w-2.5 h-2.5 bg-slate-600 rounded-full"></div>
                                        <div class="w-2.5 h-2.5 bg-slate-600 rounded-full"></div>
                                    </div>
                                </div>
                                <div class="relative min-h-0 flex-auto flex flex-col">
                                    <div class="w-full flex-auto flex min-h-0" style="opacity: 1;">
                                        <div class="w-full flex-auto flex min-h-0 overflow-auto">
                                            <div class="w-full relative flex-auto">
                                                <pre class="flex min-h-full text-xs md:text-xs-2 language-shell"><code class="flex-auto relative block text-slate-300 dark:text-slate-100 overflow-auto p-4 dark:bg-slate-800">$ scalesocket --addr 0.0.0.0:5000 ./game.py
[INFO] running at 0.0.0.0 on port 5000
</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <script>hljs.highlightAll();</script>
        <footer class="text-gray-400 border-gray-100 dark:border-gray-600 border-t mt-6">
            <div class="text-center p-6">
                © 2023 &mdash; ScaleSocket &mdash; Made in the EU
            </div>
        </footer>
    </div>
</body>

</html>